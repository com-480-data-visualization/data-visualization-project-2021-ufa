!function(){var t,e={9192:function(t,e,r){"use strict";r(1539),r(8674),r(6992),r(8783),r(3948),r(1249),r(2526),r(1817),r(2165),r(7042),r(8309),r(1038),r(8716),r(1123),r(9600),r(2222),r(6977);var n=r(9077);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(3371),r(6699),r(2023),r(7941),r(7327),r(5003),r(4747),r(9337);var s=Object.freeze([{label:"Quantum Physics",keywords:["quant-ph"]},{label:"Astrophysics",keywords:["astro-ph"]},{label:"High Energy Physics",keywords:["hep-ph","hep-th","hep-lat","hep-ex"]},{label:"Condensed Matter Physics",keywords:["cond-mat"]},{label:"General Physics",keywords:["physics","nucl-ex"]},{label:"Computer Science",keywords:["cs"]},{label:"Mathematics",keywords:["math","stat","nlin","q-alg"]},{label:"Biology",keywords:["bio"]},{label:"Economics",keywords:["econ","q-fin"]},{label:"Other",keywords:null}].map((function(t,e){return a(a({},t),{},{index:e})}))),l=function(t){for(var e=0;e<s.length;e++){var r=s[e];if(null===r.keywords)return{index:e,label:r.label};for(var n=0;n<r.keywords.length;n++)if(t.includes(r.keywords[n]))return{index:e,label:r.label}}},c=40,u=190,d=125,h=n.K2I,f=function(t){var e=l(t.id),r=e.index;return"Other"===e.label?"gray":h[r]},p="all";function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataBar=[],this.container=n.Ys("#similar-bar"),this.svg=this.container.append("svg"),this.svgBar=this.svg.attr("viewBox",[0,0,260,200].join(" ")).attr("class","max-w-full max-h-full").append("g").attr("transform","translate(".concat(c,",").concat(5,")")),this.x=n.tiA().range([0,u]).domain(this.dataBar.map((function(t){return t.id}))).padding(.2),this.svgBar.append("g").attr("transform","translate(0,".concat(d,")")).call(n.LLu(this.x)),this.svgBar.append("text").attr("transform","translate(-20,148.33333333333334)rotate(-45)").style("text-anchor","middle").style("font-weight","bold").style("font-size","50%").text("categories"),this.y=n.BYU().domain([0,100]).range([d,0]),this.svgBar.append("g").call(n.y4O(this.y)),this.svgBar.append("text").attr("transform","rotate(-90)").attr("x",-62.5).attr("y",0-c/3).style("font-weight","bold").style("font-size","50%").style("text-anchor","middle").text("weight ratios")}var e,r;return e=t,(r=[{key:"initialize",value:function(t){this.graph=t}},{key:"setData",value:function(t,e,r){this.dataBar=t,this.categoriesNames=e,this.categoriesCounts=r,this.update()}},{key:"update",value:function(){var t=this;this.svgBar.classed("opacity-20",!this.dataBar.length),this.svgBar.selectAll("mybar").remove(),this.svgBar.selectAll("rect").remove(),this.svgBar.selectAll(".axis-bottom-text").remove(),this.svgBar.selectAll(".tick").remove();var e=n.Ys("#bar-tooltip");this.x=n.tiA().range([0,u]).domain(this.dataBar.map((function(t){return t.id}))).padding(.2),this.svgBar.append("g").attr("transform","translate(0,".concat(d,")")).call(n.LLu(this.x)).call((function(t){return t.select(".domain").remove()})).selectAll("text").classed("axis-bottom-text",!0).attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("font-size","70%"),this.svgBar.selectAll("mybar").data(this.dataBar).enter().append("rect").attr("x",(function(e){return t.x(e.id)})).attr("width",this.x.bandwidth()).attr("fill",f).attr("height",(function(){return d-t.y(0)})).attr("y",(function(){return t.y(0)})).classed("cursor-pointer",!0).on("click",(function(e,n){t.graph.selectedCategory=n.id,t.graph.update(),r=null,i()})),this.svgBar.selectAll("rect").transition().duration(200).attr("y",(function(e){return t.y(100*e.weightRatio)})).attr("height",(function(e){return d-t.y(100*e.weightRatio)})).delay((function(t,e){return 50*e}));var r=null;this.svgBar.selectAll("rect").on("mouseover",(function(n,a){r=a;var o=n.target.getBoundingClientRect(),s=t.container.node().getBoundingClientRect();e.style("top",o.top-s.top+"px").style("left",o.left-s.left+o.width/2+"px"),i()})).on("mouseout",(function(){r=null,i()}));var i=function(){n.Ys("#bar-tooltip-id").text(r&&r.id).style("color",r&&f(r)),n.Ys("#bar-tooltip-name").text(r&&(t.categoriesNames[r.id]||l(r.id).label)),n.Ys("#bar-tooltip-count").text(r&&t.categoriesCounts[r.id].toLocaleString()),n.Ys("#bar-tooltip-percent").text(r&&"("+(100*r.weightRatio).toFixed(2)+"% of "),n.Ys("#bar-tooltip-category").text(r&&t.graph.selectedCategory+")").style("color",r&&f({id:t.graph.selectedCategory})),n.Ys("#bar-tooltip-year").text(r&&t.graph.year===p?"All time period":"Year "+t.graph.year),e.classed("hidden",!r)}}}])&&y(e.prototype,r),t}(),v=(r(9653),r(9720),r(4916),r(3123),r(86),r(189),r(2212)),m=r(6377),b="#fff2e6";function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(285);var k=r(6426),j=r(5980),O=r(5260);function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S={uniforms:{tDiffuse:{value:null},color:{value:new v.Ilk(b)}},vertexShader:["varying vec2 vUv;","void main() {","  vUv = uv;","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 color;","varying vec2 vUv;","void main() {","  vec4 texel = texture2D(tDiffuse, vUv);","  vec2 p = vUv * 2.0 - 1.0;","  float b = 5.0;","  float d = clamp(b * (1.0 - abs(p.x)), 0.0, 1.0) * clamp(b * (1.0 - abs(p.y)), 0.0, 1.0);","  gl_FragColor.xyz = texel.xyz * d + color.xyz * (1.0 - d);","}"].join("\n")},Y=function(){function t(e,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.year=p,this.papersKeywords=r,this.domContainer=document.getElementById("papers-cloud");var a=this.domContainer.clientWidth/this.domContainer.clientHeight;this.aspect=a,this.width=a<this.aspect?this.domContainer.clientWidth:this.domContainer.clientHeight*this.aspect,this.height=this.width/this.aspect,this.tooltip=n.Ys("#cloud-tooltip"),this.tooltipLink=n.Ys("#cloud-tooltip-link"),this.tooltipDescription=n.Ys("#cloud-tooltip-description"),this.tooltipAuthors=n.Ys("#cloud-tooltip-authors"),this.tooltipCategories=n.Ys("#cloud-tooltip-categories"),this.scene=new v.xsS,this.camera=new v.cPb(10,this.aspect,.1,10),this.initialScale=2,this.camera.position.z=this.initialScale,this.renderer=new v.CP7,this.renderer.setSize(this.width,this.height),this.renderer.domElement.classList.add("m-auto"),this.domContainer.appendChild(this.renderer.domElement),this.composer=new O.xC(this.renderer),this.composer.setSize(this.width,this.height);var o=new k.C(this.scene,this.camera);this.composer.addPass(o);var s=new j.T(S);s.renderToScreen=!0,this.composer.addPass(s),this.geometry=new v._12(.004,.004),this.parentContainer=new v.Tme,this.scene.add(this.parentContainer),this.scene.background=new v.Ilk(b);var c=new v.Pa4(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),u=c.clone().negate();Object.entries(e).forEach((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],o=n[1],s=o.categories,d=o.x,f=o.y,p=o.date,y=s.split(" "),g=y[0],b=l(g).index,w=new v.Kj0(i.geometry,new v.vBJ({transparent:!1,color:new v.Ilk(h[b]),opacity:.1})),x=new Date(p).getFullYear();i.parentContainer.add(w),w.visible=!1,w.position.z=-.2*m(a)(),w.position.x=d,w.position.y=f,w.userData={id:a,categories:y,year:x},c.min(w.position),u.max(w.position)})),this.selectedObject=null,c.setZ(.5),u.setZ(4);var d=n.sPX().scaleExtent([.5,4]).wheelDelta((function(t){return t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)})).on("zoom",(function(t){if(i.selectedObject=null,i.tooltip.classed("hidden",!0),t.sourceEvent){var e=t.transform.k;if(e!==i.camera.position.z){var r=t.sourceEvent,n=r.offsetX,a=r.offsetY,o=new v.Pa4(n/i.width*2-1,-a/i.height*2+1,1);o.unproject(i.camera);var s=o.sub(i.camera.position).normalize(),l=(e-i.camera.position.z)/s.z,d=i.camera.position.clone().add(s.multiplyScalar(l));i.camera.position.set(d.x,d.y,e)}else{var h=t.sourceEvent,f=h.movementX,p=h.movementY,y=i.camera.fov*Math.PI/180,g=2*Math.tan(y/2)*i.camera.position.z,m=i.height/g;i.camera.position.set(i.camera.position.x-f/m,i.camera.position.y+p/m,i.camera.position.z)}i.camera.position.clamp(c,u)}})),y=n.Ys(this.renderer.domElement).style("cursor","pointer");y.call(d).call(d.transform,n.CRH.scale(this.initialScale)),y.call(d).on("dblclick.zoom",null);var g=new v.iMs;n.Ys(this.renderer.domElement).on("click",(function(t){var e=i.selectedObject;i.selectedObject=null;var r=i.renderer.domElement.getBoundingClientRect(),n={x:(t.clientX-r.left)/i.width*2-1,y:-(t.clientY-r.top)/i.height*2+1};g.setFromCamera(n,i.camera);var a=g.intersectObjects(i.scene.children,!0).filter((function(t){return t.object.visible})).filter((function(t){return!t.object.material.transparent}));if(a.length>0){var o=a[0];i.selectedObject=o.object;var s=i.selectedObject.userData.id;i.selectedObject!==e&&(i.tooltip.classed("hidden",!1),i.tooltipLink.text(s).attr("href",function(t){return"https://arxiv.org/abs/".concat(t)}(s)),i.tooltipDescription.text("..."),i.tooltipAuthors.text("..."),i.tooltipCategories.text("..."),function(t){return e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URL(t);return Object.entries(e).forEach((function(t){var e=w(t,2),n=e[0],i=e[1];return r.searchParams.append(n,i)})),r}("https://export.arxiv.org/api/query",{id_list:t}),fetch(e).then((function(t){return t.text()})).then((function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}));var e}(s).then((function(t){if(null!==i.selectedObject&&i.selectedObject.userData.id===s){for(var e=t.querySelector("feed > entry"),r=e.querySelector("title"),n=e.querySelectorAll("author"),a="",o=0;o<n.length;o++)a+=n[o].querySelector("name").textContent+", ";a=a.slice(0,a.length-2),i.tooltipDescription.text(r.textContent),i.tooltipAuthors.text(a),i.tooltipCategories.html(null),i.tooltipCategories.selectAll("span").data(i.selectedObject.userData.categories).enter().append("span").text((function(t){return t})).style("color",(function(t){return f({id:t})})).classed("px-1",!0).classed("text-glow",!0)}})))}else i.tooltip.classed("hidden",!0)})),function t(){i.composer.render(),null!==i.selectedObject&&(i.camera.position.x+=.2*(i.selectedObject.position.x-i.camera.position.x),i.camera.position.y+=.2*(i.selectedObject.position.y-i.camera.position.y)),requestAnimationFrame(t)}()}var e,r;return e=t,(r=[{key:"initialize",value:function(t,e){this.graph=t,this.keywords=e}},{key:"setYear",value:function(t){this.year=t,this.update()}},{key:"update",value:function(){this.tooltip.classed("hidden",!0);for(var t=this.graph.selectedCategory,e=0,r=this.parentContainer.children,n=!!this.keywords.selected&&new Set(this.keywords.papersKeywords.papers[this.keywords.selected]||[]),i=0;i<r.length;i++){var a=r[i],o=a.userData,s=e<2500&&(this.year===p||o.year===this.year),l=!!t&&!o.categories.includes(t)||!!this.keywords.selected&&!n.has(o.id);a.visible=s,s&&e++,a.material.transparent=l}}}])&&A(e.prototype,r),t}();function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r(8559);var B=function(){function t(e,r,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n.Ys("#categories-graph");var o=this.container.node();this.aspect=o.clientWidth/o.clientHeight,this.width=1e3,this.height=this.width/this.aspect,this.year=p,this.categoriesNames=e,this.graphData=r,this.categoriesCounts=i,this.paperCounts=a,this.simulation=null,this.selectedCategory=null,this.initializedYears=new Set([p])}var e,r;return e=t,(r=[{key:"initialize",value:function(t,e,r,n){this.cloud=t,this.linePlot=r,this.barPlot=e,this.keywords=n}},{key:"setYear",value:function(t){this.year=t,this.update()}},{key:"update",value:function(){var t=this;this.simulation&&this.simulation.stop(),this.container.selectAll("*").remove(),this.svg=n.Ue8("svg").attr("viewBox",[0,0,this.width,this.height].join(" ")).attr("class","max-w-full max-h-full overflow-visible");var e=this.graphData[this.year].links,r=this.graphData[this.year].nodes;if(!this.initializedYears.has(this.year)){this.initializedYears.add(this.year);var i=["x","y","vx","vy"],a=this.graphData.all.nodes,o=Object.fromEntries(r.map((function(t){return[t.id,t]})));a.map((function(t){var e=o[t.id];e&&i.forEach((function(r){var n=t[r];n&&(e[r]=n)}))}))}this.simulation=n.A4v(r).force("link",n.Fsl(e).id((function(t){return t.id}))).force("charge",n.q5i().strength(-150)).force("forceX",n.RUJ().strength(.1/this.aspect)).force("forceY",n.Mrm().strength(.1*this.aspect)).force("center",n.wqt(this.width/2,this.height/2));var c=null,u=n.Ys("#graph-tooltip"),d=function(t,e){var r=new Date(t);return e!==p?new Date(2e3,r.getMonth()+1,0):r},y=function(){var e=c;if(e){var r=t.container.node();u.style("top",e.y/t.height*r.clientHeight+"px").style("left",e.x/t.width*r.clientWidth+"px")}},g=function(){y(),n.Ys("#categories-selected-category").text(c&&c.id).style("color",c&&f(c)),n.Ys("#categories-selected-field").text(c&&(t.categoriesNames[c.id]||l(c.id).label)),n.Ys("#categories-selected-count").text(c&&t.categoriesCounts[t.year][c.id].toLocaleString()),n.Ys("#categories-selected-year").text(c&&"("+(t.year===p?"All time period":"year "+t.year)+")"),u.classed("hidden",!c)},v=function(){var r=t.selectedCategory,i=new Set,a=[],o=[];if(r){i.add(r),e.forEach((function(t){var e=null;t.source.id===r?e=t.target.id:t.target.id===r&&(e=t.source.id),e&&(i.add(e),a.push({id:e,weight:t.weight}))}));var s=t.paperCounts[r][t.year].count,l=t.paperCounts[r][t.year].date,c=[];s.forEach((function(e,r){return c.push({date:d(l[r],t.year),value:e})})),o.push({time:t.year,values:c}),t.year!==p&&t.year-1 in t.paperCounts[r]&&(s=t.paperCounts[r][t.year-1].count,l=t.paperCounts[r][t.year-1].date,c=[],s.forEach((function(e,r){return c.push({date:d(l[r],t.year),value:e})})),o.push({time:"prevYear",values:c}))}var u=a.map((function(t){return t.weight})).reduce((function(t,e){return t+e}),0),h=a.map((function(t){return E(E({},t),{},{weightRatio:t.weight/u})})).sort((function(t,e){return n.$1i(t.weightRatio,e.weightRatio)})).slice(0,5);x.classed("opacity-10",!!r&&function(t){return!i.has(t.id)}),x.attr("stroke",(function(e){return null!==t.selectedCategory&&t.selectedCategory===e.id?"black":b})),w.classed("hidden",!!r&&function(t){return t.source.id!==r&&t.target.id!==r}),t.barPlot.setData(h,t.categoriesNames,t.categoriesCounts[t.year]),t.linePlot.setData(o,r?f({id:r}):"",t.year),t.cloud.update(),t.keywords.setCategory(t.selectedCategory?t.selectedCategory:p),n.Ys("#categories-graph-reset").classed("invisible",null===t.selectedCategory)},m=this.svg.append("g").attr("font-weight","bold").style("cursor","default").style("user-select","none").attr("text-anchor","middle").selectAll("text").data(s).join("text").attr("fill",(function(t){return h[t.index]})).text((function(t){return t.label})),w=this.svg.append("g").attr("stroke","black").attr("stroke-opacity",.5).selectAll("line").data(e.filter((function(t){return t.weight>=100}))).join("line").attr("stroke-width",(function(t){return 25e-5*t.weight+.05})),x=this.svg.append("g").attr("stroke",b).attr("stroke-width",2.5).style("cursor","pointer").selectAll("circle").data(r).join("circle").attr("class","transition-opacity duration-250").attr("r",(function(e){return.9*Math.log(t.categoriesCounts[t.year][e.id])})).attr("fill",f);this.simulation.on("tick",(function(){var e=function(e){return Math.max(0,Math.min(t.width,e))},n=function(e){return Math.max(0,Math.min(t.height,e))};w.attr("x1",(function(t){return e(t.source.x)})).attr("y1",(function(t){return n(t.source.y)})).attr("x2",(function(t){return e(t.target.x)})).attr("y2",(function(t){return n(t.target.y)})),x.attr("cx",(function(r){return e(Math.max(0,Math.min(t.width,r.x)))})).attr("cy",(function(e){return n(Math.max(0,Math.min(t.height,e.y)))})).attr("id",(function(t){return"catGraph-"+t.id}));var i={};r.forEach((function(t){var e=l(t.id).index;i[e]||(i[e]=[]),i[e].push(t)}));var a=function(t){var e=t.map((function(t){return t.x})).reduce((function(t,e){return t+e})),r=t.map((function(t){return t.y})).reduce((function(t,e){return t+e}));return{x:e/t.length,y:r/t.length-10}},o=Object.fromEntries(Object.entries(i).map((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],o=n[1];return[i,a(o)]})));m.classed("hidden",(function(t){return!o[t.index]})).attr("x",(function(t){return o[t.index]&&o[t.index].x})).attr("y",(function(t){return o[t.index]&&o[t.index].y})),y()})),x.on("mouseover",(function(t,e){c=e,g()})).on("mouseout",(function(){c=null,g()})).on("click",(function(e,r){r.id!==t.selectedCategory?t.selectedCategory=r.id:t.selectedCategory=null,v(),e.stopPropagation()})),this.svg.on("click",(function(){t.selectedCategory=null,v()})),n.Ys("#categories-graph-reset").on("click",(function(){t.selectedCategory=null,v()})),v(),this.container.node().append(this.svg.node())}}])&&M(e.prototype,r),t}(),L=r(6929);function T(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||U(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(t,e)||U(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.papersKeywords=e,this.container=n.Ys("#keywords"),this.placeholder=n.Ys("#keywords-placeholder");var r=this.container.node(),i=r.clientWidth/r.clientHeight;this.width=1e3,this.height=this.width/i,this.year=p,this.category=p,this.selected=null}var e,r;return e=t,(r=[{key:"initialize",value:function(t){this.cloud=t}},{key:"setYear",value:function(t){this.year!==t&&(this.year=t,this.update())}},{key:"setCategory",value:function(t){this.category!==t&&(this.category=t,this.update())}},{key:"update",value:function(){var t=this,e=n.Ys("#keywords-reset");e.classed("invisible",null===this.selected),e.on("click",(function(){t.selected=null,t.update(),t.cloud.update()})),this.container.selectAll("*").remove();var r,i=n.Ys("#keywords-tooltip"),a=this.papersKeywords.keywords[this.year],o=a&&a[this.category],s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];return Object.entries(a).filter((function(t){return t[0]!==p})).map((function(e){var n=I(e,2),i=n[0];return n[1].keywords.forEach((function(e){var n=I(e,2),a=n[0],o=n[1];t===a&&r.push({category:i,count:o})}))})),r.sort((function(t,e){return e.count-t.count})).slice(0,e)};if(o&&o.keywords.length){var l=o.keywords.slice(0,50),c=(o.total,l.map((function(t){return t[1]}))),u=(Math.min.apply(Math,T(c)),Math.max.apply(Math,T(c))),d=L().size([this.width,this.height]).words(l.map((function(t){var e=I(t,2);return{text:e[0],size:10+40*e[1]/u}}))).padding(5).rotate(!1).font("Poppins").fontSize((function(t){return t.size})).random(m(this.category)).on("end",(function(e){t.container.append("svg").attr("viewBox",[0,0,t.width,t.height].join(" ")).attr("class","max-w-full max-h-full overflow-visible").on("click",(function(){t.selected=null,t.update(),t.cloud.update()})).append("g").attr("transform","translate("+d.size()[0]/2+","+d.size()[1]/2+")").attr("text-anchor","middle").attr("font-weight","bold").selectAll("text").data(e).enter().append("text").style("font-size",(function(t){return t.size})).attr("transform",(function(t){return"translate("+[t.x,t.y]+")"})).classed("cursor-pointer",!0).classed("select-none",!0).attr("fill",(function(t){var e=s(t.text)[0];return f({id:null!=e?e.category:""})})).text((function(t){return t.text})).classed("opacity-20",(function(e){return null!==t.selected&&e.text!==t.selected})).on("click",(function(e,r){e.stopPropagation(),t.selected=t.selected!==r.text?r.text:null,t.update(),t.cloud.update()}))}));d.start(),r=!0}else r=!1;this.placeholder.classed("hidden",r);var h=null;this.container.select("svg").selectAll("text").on("mouseover",(function(t,e){h=e,y()})).on("mouseout",(function(){h=null,y()}));var y=function(){var e,r,a;if((e=h)&&i.style("top",(e.y/t.height+.5)*t.container.node().clientHeight+"px").style("left",(e.x/t.width+.5)*t.container.node().clientWidth+"px"),h)for(var l=0;l<o.keywords.length;l++)o.keywords[l][0]===h.text&&(r=o.keywords[l][1]);if(n.Ys("#keywords-tooltip-count").text(h&&r),n.Ys("#keywords-tooltip-category").text(h&&t.category+(t.category===p?" categories":"")).style("color",h&&f({id:t.category})),n.Ys("#keywords-tooltip-year").text(h&&"("+(t.year===p?"All time period":"year "+t.year)+")"),h&&(a=s(h.text,3)),a)for(var c=0;c<a.length;c++){var u="#keywords-tooltip-category"+(c+1),d="#keywords-tooltip-count"+(c+1);n.Ys(u).text(h&&a[c].category).style("color",h&&f({id:a[c].category})),n.Ys(d).text(h&&"("+a[c].count+" papers)")}i.classed("hidden",!h)}}}])&&R(e.prototype,r),t}();function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataLine=[],this.lineColor="",this.year=""}var e,r;return e=t,(r=[{key:"setData",value:function(t,e,r){this.dataLine=t,this.lineColor=e,this.year=r,this.update()}},{key:"update",value:function(){var t=[];2===this.dataLine.length?t=this.dataLine[1].values:1===this.dataLine.length&&(t=this.dataLine[0].values),n.Ys("#published-line").select("svg").remove(),this.svg=n.Ys("#published-line").append("svg").attr("viewBox",[0,0,260,200].join(" ")).attr("class","max-w-full max-h-full"),this.svg.classed("opacity-20",!this.dataLine.length);var e=n.jvg().defined((function(t){return!isNaN(t.value)})).x((function(t){return i(t.date)})).y((function(t){return r(t.value)+5})),r=n.BYU().domain([0,n.Fp7(this.dataLine,(function(t){return n.Fp7(t.values,(function(t){return t.value}))}))]).nice().range([d,0]),i=n.Xf().domain(n.Wem(t,(function(t){return t.date}))).range([c,230]);if(this.svg.append("g").call((function(t){return t.attr("transform","translate(0,".concat(130,")")).call(n.LLu(i).ticks(2.375))})),this.svg.append("text").attr("transform","translate(135 , 165)").style("text-anchor","middle").style("font-weight","bold").style("font-size","50%").text("date"),this.svg.append("g").call((function(e){return e.attr("transform","translate(".concat(c,",").concat(5,")")).call(n.y4O(r)).call((function(e){return e.select(".tick:last-of-type text").clone().attr("x",3).attr("text-anchor","start").attr("font-weight","bold").text(t.y)}))})),this.svg.append("text").attr("transform","rotate(-90)").attr("x",-62.5).attr("y",0).style("font-weight","bold").style("font-size","50%").style("text-anchor","middle").text("#papers"),this.svg.selectAll(".tick").selectAll("text").style("font-size","75%"),0!==this.dataLine.length){var a=this.svg.datum(this.dataLine[0]).append("path").attr("fill","none").attr("stroke",this.lineColor).attr("stroke-width",1.5).attr("d",(function(t){return e(t.values)}));2===this.dataLine.length&&(this.svg.datum(this.dataLine[1]).append("path").attr("fill","none").attr("stroke","#bab0ab").attr("stroke-width",1.5).attr("d",(function(t){return e(t.values)})).attr("id","prevYearLine"),this.svg.append("text").attr("x",225).attr("y",r(this.dataLine[1].values[this.dataLine[1].values.length-1].value)+5).style("font-size","8px").style("text-anchor","end").attr("fill","#bab0ab").text(this.year-1));var o=a.node().getTotalLength();a.attr("stroke-dasharray",o).attr("stroke-dashoffset",o).transition().duration(500).attr("stroke-dashoffset",0)}n.Ys("#published-line").node().append(this.svg.node())}}])&&F(e.prototype,r),t}(),X=(r(9714),r(3175));function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var W=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=null,i=null;Object.keys(e).forEach((function(t){if(t!==p){var e=parseInt(t);(null===r||e<r)&&(r=e),(null===i||e>i)&&(i=e)}})),this.tickAllTime=i+1,this.sliderTime=(0,X.d3)().min(r).max(i+1).step(1).width(700).tickFormat((function(t){return t!==i+1?t.toString():"All Time"})).ticks(i-r+1).default(i+1),this.svg=n.Ue8("svg").attr("viewBox",[0,0,750,50].join(" ")).classed("overflow-visible",!0),this.gTime=this.svg.append("g").attr("transform","translate(25,10)"),this.gTime.call(this.sliderTime),n.Ys("#slider-time").node().append(this.svg.node())}var e,r;return e=t,(r=[{key:"initialize",value:function(t,e,r,i,a){var o=this,s=n.Ys("#slider-reset");this.sliderTime.on("end",(function(r){var n=r===o.tickAllTime?p:r;s.classed("invisible",n===p),a.selected=null,t.setYear(n),e.setYear(n),a.year=n,a.update()})),s.on("click",(function(){o.sliderTime.value("2021"),s.classed("invisible",!0),a.selected=null,t.setYear(p),e.setYear(p),a.year=p,a.update()}))}},{key:"update",value:function(){}}])&&H(e.prototype,r),t}();function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Promise.all(["categories_names.json","categories_graph.json","categories_counts.json","papers.json","paper_counts.json","papers_keywords.json"].map((function(t){return fetch("public/data/".concat(t)).then((function(t){return t.json()}))}))).then((function(t){var e,r,n=(r=6,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5];document.getElementsByTagName("body")[0].style.visibility="visible";var u=new W(o),d=new B(i,a,o,l),h=new Y(s),f=new g,p=new N,y=new q(c);u.initialize(d,h,f,p,y),d.initialize(h,f,p,y),h.initialize(d,y),f.initialize(d),y.initialize(h),u.update(),d.update(),h.update(),f.update(),p.update(),y.update()}))},5042:function(){}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var a=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},t=[],n.O=function(e,r,i,a){if(!r){var o=1/0;for(c=0;c<t.length;c++){r=t[c][0],i=t[c][1],a=t[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(s=!1,a<o&&(o=a));s&&(t.splice(c--,1),e=i())}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,i,a]},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,a,o=r[0],s=r[1],l=r[2],c=0;for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var u=l(n);for(e&&e(r);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[o[c]]=0;return n.O(u)},r=self.webpackChunkdata_visualization_ufa=self.webpackChunkdata_visualization_ufa||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var i=n.O(void 0,[199],(function(){return n(9192)}));i=n.O(i)}();
//# sourceMappingURL=app.bc439b4f.js.map